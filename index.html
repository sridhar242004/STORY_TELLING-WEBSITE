<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Storytelling</title>
    <style> 
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #131213;
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        .container {
            width: 100%; /* Adjust the width as needed */
            max-width: 1600px; /* Set a maximum width for larger screens */
            background-color: #f90314;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            text-align: center;
        }
        
        h1 {
            color: #151414;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            margin-bottom: 20px;
            animation: bounce 1s ease infinite alternate;
        }
        
        @keyframes bounce {
            from {
                transform: translateY(-5px);
            }
            to {
                transform: translateY(5px);
            }
        }
        
        .character-customization label {
            color: #1e1d1e;
        }
        
        .character-customization input[type="text"],
        .character-customization input[type="file"] {
            width: 100%;
            margin-bottom: 15px;
            padding: 8px;
            border: none;
            border-radius: 5px;
            background-color: #141314;
            animation: float 2s ease infinite;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-10px);
            }
        }
        
        .character-customization button {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            background-color: #191819;
            color: #fff;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            animation: rotate 2s linear infinite;
        }
        
        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
        
        .character-customization button:hover {
            background-color: #151515;
            animation: shake 0.5s ease infinite alternate;
        }
        
        @keyframes shake {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(5px);
            }
        }
        
        .story {
            margin-bottom: 20px;
            color: #333;
            font-size: 18px;
            text-align: left;
            padding: 20px;
            border: 2px solid #ff0000;
            border-radius: 10px;
            background-color: #f9e6ff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            animation: fadeIn 1s ease;
        }
        
        .choices button {
            padding: 10px 20px;
            margin: 0 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            background-color: #1615164d;
            color: #fff;
            font-size: 16px;
            transition: background-color 0.3s ease;
            animation: heartbeat 1s ease infinite;
        }
        
        .choices button:hover {
            background-color: #100f10;
            animation: bounce 0.5s ease infinite alternate;
        }
        
        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        
        .inventory {
            text-align: center;
        }
        
        .inventory h2 {
            color: #1b1a1b;
            animation: rainbow 3s linear infinite;
        }
        
        @keyframes rainbow {
            0% {
                color: red;
            }
            25% {
                color: orange;
            }
            50% {
                color: yellow;
            }
            75% {
                color: green;
            }
            100% {
                color: blue;
            }
        }
        
        #inventoryList {
            list-style-type: none;
            padding: 0;
        }
        
        #inventoryList li {
            margin-bottom: 5px;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }
        /* Dropdown Styles */
        .category-selection,
        .story-selection {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .category-selection select,
        .story-selection select {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #FF00CC;
            border-radius: 5px;
            background-color: #f9e6ff;
            color: #333;
            transition: border-color 0.3s ease;
            appearance: none; /* Remove default dropdown arrow */
        }
        
        .category-selection select:hover,
        .story-selection select:hover {
            border-color: #e600ac;
        }
        
        /* Custom Dropdown Arrow */
        .category-selection select::-ms-expand,
        .story-selection select::-ms-expand {
            display: none; /* Hide default arrow for IE */
        }
        
        .category-selection select::after,
        .story-selection select::after {
            content: '\25BC'; /* Unicode for down arrow */
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            pointer-events: none; /* Ensure the arrow doesn't interfere with clicking the select */
        }
        
        /* Button Styles */
        .container button {
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            background-color: #FF00CC;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .container button:hover {
            background-color: #e600ac;
        }
        /* Twinkle Animation */
        .twinkle {
            position: relative;
        }
        
        .twinkle::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: rgba(255, 255, 255, 0.5);
            animation: twinkle 1s linear infinite alternate;
        }
        
        @keyframes twinkle {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }
        
        /* Rainbow Border */
        .rainbow-border {
            border: 5px solid transparent;
            background-clip: padding-box;
            background-image: linear-gradient(to right, violet, indigo, blue, green, yellow, orange, red);
            animation: rainbowBorder 5s linear infinite;
        }
        
        @keyframes rainbowBorder {
            0% {
                background-position: 0 50%;
            }
            100% {
                background-position: 100% 50%;
            }
        }
        
        /* Bounce Animation */
        .bounce {
            animation: bounce 1s infinite alternate;
        }
        
        @keyframes bounce {
            0% {
                transform: translateY(-10px);
            }
            100% {
                transform: translateY(10px);
            }
        }
        
        /* Floating Animation */
        .float {
            animation: float 2s infinite ease-in-out;
        }
        
        @keyframes float {
            0% {
                transform: translateY(0);
            }
            50% {
                transform: translateY(-20px);
            }
            100% {
                transform: translateY(0);
            }
        }
        
        /* Pulse Animation */
        .pulse {
            animation: pulse 1s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* Spin Animation */
        .spin {
            animation: spin 2s linear infinite;
        }
        
        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        /* Wiggle Animation */
        .wiggle {
            animation: wiggle 1s infinite;
        }
        
        @keyframes wiggle {
            0% {
                transform: rotate(0deg);
            }
            25% {
                transform: rotate(-5deg);
            }
            50% {
                transform: rotate(5deg);
            }
            75% {
                transform: rotate(-5deg);
            }
            100% {
                transform: rotate(0deg);
            }
        }
        
        /* Sparkle Animation */
        .sparkle {
            position: relative;
        }
        
        .sparkle::before {
            content: '\2605';
            position: absolute;
            top: -10px;
            left: -10px;
            font-size: 24px;
            color: gold;
            animation: sparkle 1s linear infinite alternate;
        }
        
        @keyframes sparkle {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1.2);
                opacity: 0;
            }
        }
        
        /* Blink Animation */
        .blink {
            animation: blink 1s infinite alternate;
        }
        
        @keyframes blink {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        
        /* Zoom Animation */
        .zoom {
            animation: zoom 1s infinite alternate;
        }
        
        @keyframes zoom {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.1);
            }
        }
        
        /* Shake Animation */
        .shake {
            animation: shake 0.5s infinite alternate;
        }
        
        @keyframes shake {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(5px);
            }
        }
        
        /* Slide Animation */
        .slide {
            animation: slide 1s infinite alternate;
        }
        
        @keyframes slide {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(10px);
            }
        }
        
        /* Glow Animation */
        .glow {
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            0% {
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            }
            100% {
                text-shadow: 0 0 10px rgba(255, 255, 255, 1);
            }
        }
        
        /* Zoom Out Animation */
        .zoom-out {
            animation: zoomOut 1s infinite alternate;
        }
        
        @keyframes zoomOut {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(0.9);
            }
        }
        
        /* Pop Animation */
        .pop {
            animation: pop 0.5s infinite alternate;
        }
        
        @keyframes pop {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.1);
            }
        }
        
        /* Heartbeat Animation */
        .heartbeat {
            animation: heartbeat 1s infinite;
        }
        
        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
                }
        100% {
        transform: scale(1);
        }
        }
        
        /* Spin and Grow Animation */
        .spin-grow {
        animation: spinGrow 2s infinite linear;
        }
        
        @keyframes spinGrow {
        0% {
        transform: rotate(0deg) scale(1);
        }
        50% {
        transform: rotate(180deg) scale(1.2);
        }
        100% {
        transform: rotate(360deg) scale(1);
        }
        }
        
        /* Slide and Fade Animation */
        .slide-fade {
        animation: slideFade 1s infinite ease-in-out alternate;
        }
        
        @keyframes slideFade {
        0% {
        transform: translateY(0) scale(1);
        opacity: 1;
        }
        100% {
        transform: translateY(20px) scale(0.8);
        opacity: 0.5;
        }
        }
        
        /* Zigzag Animation */
        .zigzag {
        animation: zigzag 1s infinite alternate;
        }
        
        @keyframes zigzag {
        0% {
        transform: translateX(0);
        }
        100% {
        transform: translateX(10px);
        }
        }
        
        /* Flip Animation */
        .flip {
        animation: flip 1s infinite alternate;
        }
        
        @keyframes flip {
        0% {
        transform: scaleX(1);
        }
        100% {
        transform: scaleX(-1);
        }
        }
        
        /* Rubber Band Animation */
        .rubber-band {
        animation: rubberBand 1s infinite alternate;
        }
        
        @keyframes rubberBand {
        0% {
        transform: scaleX(1);
        }
        50% {
        transform: scaleX(1.2);
        }
        100% {
        transform: scaleX(1);
        }
        }
        /* Dropdown Styles */
        .category-selection,
        .story-selection {
            margin-bottom: 20px;
            text-align: center;
            animation: spin-grow 2s infinite linear;
        }
        
        .category-selection select,
        .story-selection select {
            padding: 10px;
            font-size: 16px;
            border: 2px solid #FF00CC;
            border-radius: 5px;
            background-color: #f9e6ff;
            color: #333;
            transition: border-color 0.3s ease;
            appearance: none; /* Remove default dropdown arrow */
            animation: slide-fade 1s infinite ease-in-out alternate;
        }
        
        .category-selection select:hover,
        .story-selection select:hover {
            border-color: #e600ac;
        }
        
        /* Custom Dropdown Arrow */
        .category-selection select::-ms-expand,
        .story-selection select::-ms-expand {
            display: none; /* Hide default arrow for IE */
        }
        
        .category-selection select::after,
        .story-selection select::after {
            content: '\25BC'; /* Unicode for down arrow */
            position: absolute;
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
            pointer-events: none; /* Ensure the arrow doesn't interfere with clicking the select */
        }
        
        /* Button Styles */
        .container button {
            padding: 15px 30px;
            border: none;
            border-radius: 5px;
            background-color: #FF00CC;
            color: #fff;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .container button:hover {
            background-color: #e600ac;
        }
        
        /* Additional Animation Effects */
        
        /* Slide Animation */
        .slide {
            animation: slide 1s infinite alternate;
        }
        
        @keyframes slide {
            0% {
                transform: translateY(0);
            }
            100% {
                transform: translateY(10px);
            }
        }
        
        /* Glow Animation */
        .glow {
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            0% {
                text-shadow: 0 0 5px rgba(255, 255, 255, 0.5);
            }
            100% {
                text-shadow: 0 0 10px rgba(255, 255, 255, 1);
            }
        }
        
        /* Zoom Out Animation */
        .zoom-out {
            animation: zoomOut 1s infinite alternate;
        }
        
        @keyframes zoomOut {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(0.9);
            }
        }
        
        /* Pop Animation */
        .pop {
            animation: pop 0.5s infinite alternate;
        }
        
        @keyframes pop {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.1);
            }
        }
        
        /* Heartbeat Animation */
        .heartbeat {
            animation: heartbeat 1s infinite;
        }
        
        @keyframes heartbeat {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }
        
        /* Spin and Grow Animation */
        .spin-grow {
            animation: spinGrow 2s infinite linear;
        }
        
        @keyframes spinGrow {
            0% {
                transform: rotate(0deg) scale(1);
            }
            50% {
                transform: rotate(180deg) scale(1.2);
            }
            100% {
                transform: rotate(360deg) scale(1);
            }
        }
        
        /* Slide and Fade Animation */
        .slide-fade {
            animation: slideFade 1s infinite ease-in-out alternate;
        }
        
        @keyframes slideFade {
            0% {
                transform: translateY(0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translateY(20px) scale(0.8);
                opacity: 0.5;
            }
        }
        
        /* Zigzag Animation */
        .zigzag {
            animation: zigzag 1s infinite alternate;
        }
        
        @keyframes zigzag {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(10px);
            }
        }
        
        /* Flip Animation */
        .flip {
            animation: flip 1s infinite alternate;
        }
        
        @keyframes flip {
            0% {
                transform: scaleX(1);
            }
            100% {
                transform: scaleX(-1);
            }
        }
        
        /* Rubber Band Animation */
        .rubber-band {
            animation: rubberBand 1s infinite alternate;
        }
        
        @keyframes rubberBand {
            0% {
                transform: scaleX(1);
            }
            50% {
                transform: scaleX(1.2);
            }
            100% {
                transform: scaleX(1);
            }
        }
        
        /* Rotate Animation */
        .rotate {
            animation: rotate 1s infinite linear;
        }
        
        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }
        
        /* Skew Animation */
        .skew {
            animation: skew 1s infinite alternate;
        }
        
        @keyframes skew {
            0% {
                transform: skewX(0deg);
            }
            100% {
                transform: skewX(10deg);
            }
        }
        
        /* Fade In Animation */
        .fade-in {
            animation: fadeIn 1s infinite alternate;
        }
        
        @keyframes fadeIn {
            0% {
                opacity: 0;
            }
            100% {
                opacity: 1;
            }
        }
        
        /* Fade Out Animation */
        .fade-out {
            animation: fadeOut 1s infinite alternate;
        }
        
        @keyframes fadeOut {
            0% {
                opacity: 1;
            }
            100% {
                opacity: 0;
            }
        }
        
        /* Color Shift Animation */
        .color-shift {
            animation: colorShift 2s infinite alternate;
        }
        
        @keyframes colorShift {
            0% {
                filter: hue-rotate(0deg);
            }
            100% {
                filter: hue-rotate(360deg);
            }
        }
        
        /* Scale Animation */
        .scale {
            animation: scale 1s infinite alternate;
        }
        
        @keyframes scale {
            0% {
                transform: scale(1);
            }
            100% {
                transform: scale(1.2);
            }
        }
        .inventory {
            border: 2px solid #ccc;
            padding: 10px;
            border-radius: 5px;
            background-color: #f9f9f9;
            margin-top: 20px;
        }
        
        .inventory h3 {
            margin-top: 0;
        }
        
        #inventory-list {
            list-style-type: none;
            padding: 0;
        }
        
        #inventory-list li {
            margin-bottom: 5px;
        }
        
        #inventory-list li::before {
            content: "\2022"; /* Bullet point */
            color: #007bff; /* Blue color */
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: -1em;
        }
        
    </style>
</head>
<body>
    <div class="container">
        <h1>Interactive Storytelling</h1>
        <div class="character-customization">
            <label for="charName">Character Name:</label>
            <input type="text" id="charName" placeholder="Enter your name">
            <label for="charImage">Character Image:</label>
            <input type="file" id="charImage">
        </div>
        <div class="category-selection">
            <label for="category">Select Category:</label>
            <select id="category">
                <!-- Categories will be dynamically populated here -->
            </select>
        </div>
        <div class="story-selection">
            <label for="story">Select Story:</label>
            <select id="story">
                <!-- Stories will be dynamically populated here -->
            </select>
        </div>
        <div class="story-container">
            <div class="story">
                <!-- Story content will be dynamically updated here -->
            </div>
            <div class="choices">
                <!-- User choices will be displayed here -->
            </div>
        </div>
        
        <div class="inventory">
            <h3>Inventory:</h3>
            <ul id="inventory-list" style="display: none;">
                <!-- Inventory items will be dynamically added here -->
            </ul>
            <button onclick="toggleInventory()">Show Inventory</button>
        </div>
        
        <button onclick="customizeCharacter()">Start Adventure</button>
        <button onclick="playAudio()">Read Aloud</button>
    </div>

    <script>
        const storyData = {
            adventure: {
                start: {
                    title: "The Lost Treasure",
                    text: "You are a brave adventurer seeking the legendary Lost Treasure of Eldoria. Legends say it's hidden deep within the Forbidden Jungle...",
                    choices: [
                        { text: "Embark on your quest", next: "jungleEntrance" }
                    ],
                    items: ["ENTERENCE KEY"]
                },
                jungleEntrance: {
                    title: "Into the Forbidden Jungle",
                    text: "You stand at the entrance of the Forbidden Jungle, its dense foliage and eerie silence send shivers down your spine. Will you venture inside?",
                    choices: [
                        { text: "Enter the jungle", next: "darkPath" },
                        { text: "Turn back", next: "turnBack" }
                    ],
                    items: ["LAMP"]
                },
                darkPath: {
                    title: "The Dark Path",
                    text: "You choose the dark path, filled with danger and mystery. As you walk deeper, you hear strange noises and rustling in the bushes...",
                    choices: [
                        { text: "Investigate the noises", next: "hiddenTemple" },
                        { text: "Keep moving forward", next: "treacherousBridge" }
                    ],
                    items: ["SWORD"]
                },
                hiddenTemple: {
                    title: "The Hidden Temple",
                    text: "You stumble upon a hidden temple deep within the jungle. Inside, you find ancient relics and traps. What will you do?",
                    choices: [
                        { text: "Search for the treasure", next: "treasureChamber", item: "Temple Key" },
                        { text: "Leave the temple", next: "continueJourney" }
                    ],
                    items: ["MAP"]
                },
                treasureChamber: {
                    title: "The Treasure Chamber",
                    text: "You finally reach the treasure chamber! But it's guarded by a fearsome beast. Can you defeat it and claim the Lost Treasure?",
                    choices: [
                        { text: "Fight the beast", next: "victory" },
                        { text: "Negotiate with the beast", next: "negotiate" }
                    ],
                    items: ["THUNDER POWER"]
                },
                victory: {
                    title: "Victory!",
                    text: "You defeated the beast and claimed the Lost Treasure! You're hailed as a hero throughout the land.",
                    choices: [],
                    items: ["DIAMONDS"]
                },
                negotiate: {
                    title: "Negotiation",
                    text: "You successfully negotiate with the beast and it allows you to take the treasure. You emerge from the temple victorious.",
                    choices: [],
                    items: []
                },
                turnBack: {
                    title: "Turning Back",
                    text: "Fear overtakes you, and you decide to turn back from the Forbidden Jungle. The Lost Treasure remains hidden, its secrets untouched.",
                    choices: [],
                    items: []
                },
                treacherousBridge: {
                    title: "The Treacherous Bridge",
                    text: "You come across a rickety bridge spanning a chasm. It looks unstable, but it may be your only way forward. What will you do?",
                    choices: [
                        { text: "Cross the bridge", next: "bridgeCrossing" },
                        { text: "Find an alternate route", next: "alternateRoute" }
                    ],
                    items: []
                },
                bridgeCrossing: {
                    title: "Crossing the Bridge",
                    text: "With bated breath, you step onto the creaking bridge and begin your treacherous crossing. Each step feels like it could be your last, but you push forward. Will you make it to the other side?",
                    choices: [
                        { text: "Reach the other side", next: "reachOtherSide" },
                        { text: "The bridge collapses", next: "bridgeCollapse" }
                    ],
                    items: []
                },
                reachOtherSide: {
                    title: "Reaching the Other Side",
                    text: "After a nerve-wracking journey, you finally reach the other side of the chasm. The Forbidden Jungle awaits, but you've overcome one of its deadliest challenges.",
                    choices: [],
                    items: []
                },
                bridgeCollapse: {
                    title: "Bridge Collapse",
                    text: "Disaster strikes as the bridge gives way beneath you, sending you plummeting into the chasm below. Your adventure comes to a tragic end.",
                    choices: [],
                    items: []
                },
                alternateRoute: {
                    title: "Finding an Alternate Route",
                    text: "You decide to search for an alternate route around the chasm. It may take longer, but it's safer than risking the unstable bridge. Will you find a way?",
                    choices: [
                        { text: "Discover a hidden path", next: "hiddenPath", item: "Map" },
                        { text: "Return to the jungle entrance", next: "returnEntrance" }
                    ],
                    items: []
                },
                hiddenPath: {
                    title: "The Hidden Path",
                    text: "You stumble upon a hidden path that leads around the chasm, bypassing the treacherous bridge. Though it's longer, it's far safer. Your journey continues deeper into the Forbidden Jungle.",
                    choices: [],
                    items: []
                },
                returnEntrance: {
                    title: "Returning to the Jungle Entrance",
                    text: "You decide to retreat to the entrance of the Forbidden Jungle, unwilling to risk your life on the treacherous bridge. Your quest for the Lost Treasure must wait for another day.",
                    choices: [],
                    items: []
                },
            },
            mystery: {
                mansion: {
                    title: "The Enigmatic Mansion",
                    text: "You receive an intriguing invitation to explore an old mansion rumored to hold a hidden treasure. As you approach the mansion's grand entrance, you sense a mysterious energy emanating from within. Will you enter?",
                    choices: [
                        { text: "Enter the mansion", next: "foyer" },
                        { text: "Leave and forget about the invitation", next: "ignore" }
                    ]
                },
                foyer: {
                    title: "The Foyer",
                    text: "You step into the grand foyer of the mansion, adorned with antique furnishings and dimly lit chandeliers. A sense of foreboding fills the air. What will you do?",
                    choices: [
                        { text: "Explore the ground floor", next: "groundFloor" },
                        { text: "Ascend the staircase", next: "upperFloor" }
                    ]
                },
                groundFloor: {
                    title: "Exploring the Ground Floor",
                    text: "You wander through the ground floor rooms, each holding its own secrets and mysteries. As you delve deeper, you stumble upon a hidden passage leading to the mansion's basement. Will you investigate?",
                    choices: [
                        { text: "Explore the basement", next: "basement" },
                        { text: "Return to the foyer", next: "foyer" }
                    ]
                },
                basement: {
                    title: "The Basement",
                    text: "In the dimly lit basement, you discover an ancient crypt filled with forgotten relics and cryptic symbols. Suddenly, a hidden door creaks open, revealing a hidden chamber. What lies beyond?",
                    choices: [
                        { text: "Enter the hidden chamber", next: "hiddenChamber" },
                        { text: "Leave the basement", next: "groundFloor" }
                    ]
                },
                hiddenChamber: {
                    title: "The Hidden Chamber",
                    text: "You step into the hidden chamber, filled with treasures beyond imagination. But with great treasure comes great peril. Will you risk it all for riches?",
                    choices: [
                        { text: "Claim the treasure", next: "claimTreasure" },
                        { text: "Leave the treasures untouched", next: "leaveTreasure" }
                    ]
                },
                claimTreasure: {
                    title: "Claiming the Treasure",
                    text: "You seize the treasures with greed in your eyes, unaware of the ancient curse that befalls those who dare to take what is not theirs. As you reach for the riches, darkness envelops you.",
                    choices: []
                },
                leaveTreasure: {
                    title: "Leaving the Treasures Untouched",
                    text: "Resisting the allure of the treasures, you turn your back on the riches and leave the hidden chamber behind. Though the temptation lingers, you emerge unscathed, your integrity intact.",
                    choices: []
                },
                upperFloor: {
                    title: "Ascending the Staircase",
                    text: "You climb the grand staircase to the upper floor, where the air grows colder and the shadows deeper. A sense of unease washes over you as you explore the upper rooms. Will you continue?",
                    choices: [
                        { text: "Explore further", next: "exploreFurther" },
                        { text: "Descend back to the foyer", next: "foyer" }
                    ]
                },
                exploreFurther: {
                    title: "Exploring Further",
                    text: "Driven by curiosity, you press on through the upper floor rooms, uncovering secrets long buried within the mansion's walls. But with each discovery, the mysteries deepen. Will you uncover the truth?",
                    choices: [
                        { text: "Keep searching", next: "keepSearching" },
                        { text: "Retreat to safety", next: "retreatSafety" }
                    ]
                },
                keepSearching: {
                    title: "Continuing the Search",
                    text: "Determined to unravel the mansion's secrets, you press on through the darkness, unearthing clues that hint at a deeper mystery. But with each step forward, the danger grows. Will you persevere?",
                    choices: [
                        { text: "Press on despite the danger", next: "pressOn" },
                        { text: "Return to the foyer", next: "returnFoyer" }
                    ]
                },
                pressOn: {
                    title: "Pressing Onward",
                    text: "With courage in your heart, you press onward through the darkness, ready to confront whatever horrors lie in wait. But as you delve deeper, you realize that some secrets are best left undisturbed.",
                    choices: []
                },
                returnFoyer: {
                    title: "Returning to the Foyer",
                    text: "Feeling overwhelmed by the mansion's mysteries, you retreat to the safety of the foyer, vowing to leave the mansion behind. Though the truth remains elusive, you know it's safer not to delve too deep.",
                    choices: []
                },
                retreatSafety: {
                    title: "Retreating to Safety",
                    text: "Realizing the danger that lurks within the mansion's walls, you retreat to safety, vowing never to return. Though the mysteries remain unsolved, your life is worth more than any secret.",
                    choices: []
                },
                ignore: {
                    title: "Ignoring the Invitation",
                    text: "Fearful of the unknown, you choose to ignore the invitation and walk away from the mansion. Though curiosity tugs at your heart, you know it's safer not to meddle with forces beyond your comprehension.",
                    choices: []
                }
            },
            horror: {
                cabin: {
                    title: "The Abandoned Cabin",
                    text: "Lost in the woods, you stumble upon an old, decrepit cabin. It looks abandoned, but something feels off. Will you investigate?",
                    choices: [
                        { text: "Enter the cabin", next: "exploreCabin" },
                        { text: "Stay away and continue through the woods", next: "continueWoods" }
                    ],
                    items: ["COLLECT THE KEY"]
                },
                exploreCabin: {
                    title: "Exploring the Cabin",
                    text: "Inside the cabin, you find eerie symbols etched into the walls and strange artifacts scattered about. As you delve deeper, you hear a chilling sound coming from the basement. What will you do?",
                    choices: [
                        { text: "Investigate the basement", next: "basement" },
                        { text: "Leave the cabin immediately", next: "leaveCabin" }
                    ],
                    items: ["COLLECT THE TORCH LIGHT"]
                },
                basement: {
                    title: "The Haunted Basement",
                    text: "Descending into the basement, you discover a hidden chamber filled with the remnants of dark rituals. Suddenly, the door slams shut behind you, trapping you in darkness. Will you try to escape?",
                    choices: [
                        { text: "Search for an exit", next: "findExit" },
                        { text: "Confront whatever lurks in the darkness", next: "confrontDarkness" }
                    ]
                },
                findExit: {
                    title: "Finding an Exit",
                    text: "You frantically search for an exit, feeling a growing sense of dread with each passing moment. Just when all hope seems lost, you spot a faint glimmer of light. Will you make it out alive?",
                    choices: [
                        { text: "Escape to safety", next: "escape" },
                        { text: "Embrace the darkness", next: "embrace" }
                    ]
                },
                confrontDarkness: {
                    title: "Confronting the Darkness",
                    text: "You steel yourself to confront whatever lurks in the darkness, ready to face your fears head-on. But as you move forward, the darkness consumes you, leaving behind only echoes of your screams.",
                    choices: []
                },
                leaveCabin: {
                    title: "Leaving the Cabin",
                    text: "Feeling unnerved by the cabin's sinister aura, you decide to leave immediately. Though the mysteries of the cabin remain unsolved, you know it's safer to stay away.",
                    choices: []
                },
                continueWoods: {
                    title: "Continuing Through the Woods",
                    text: "Ignoring the cabin, you press on through the dark, foreboding woods. The sound of rustling leaves and distant whispers fills you with unease. Will you find your way out?",
                    choices: [
                        { text: "Keep moving forward", next: "forward" },
                        { text: "Turn back and search for another path", next: "searchPath" }
                    ]
                },
                forward: {
                    title: "Pressing Forward",
                    text: "You forge ahead, determined to find your way out of the woods. But with each step, the forest seems to grow denser and more twisted, as if it's leading you deeper into its grasp. Will you continue?",
                    choices: [
                        { text: "Press on despite the danger", next: "pressOn" },
                        { text: "Turn back and retreat", next: "retreat" }
                    ]
                },
                searchPath: {
                    title: "Searching for Another Path",
                    text: "You backtrack, searching for another path through the woods. The trees seem to shift and move, disorienting you at every turn. Will you find your way out?",
                    choices: [
                        { text: "Find a new path", next: "newPath" },
                        { text: "Return to the abandoned cabin", next: "returnCabin" }
                    ]
                },
                newPath: {
                    title: "Finding a New Path",
                    text: "After much searching, you stumble upon a hidden trail leading deeper into the woods. It feels like the right path, but who knows what dangers lie ahead? Will you risk it?",
                    choices: [
                        { text: "Follow the trail", next: "followTrail" },
                        { text: "Stay put and wait for help", next: "stayPut" }
                    ]
                },
                followTrail: {
                    title: "Following the Trail",
                    text: "You follow the hidden trail, hoping it will lead you out of the woods. But as you venture deeper, the shadows grow darker and the air colder. Will you make it out alive?",
                    choices: [
                        { text: "Press on despite the danger", next: "pressOnTrail" },
                        { text: "Turn back and retreat", next: "retreatTrail" }
                    ]
                },
                pressOnTrail: {
                    title: "Pressing Onward",
                    text: "With determination in your heart, you press onward along the trail, ready to face whatever horrors await. But with each step, the forest seems to tighten its grip. Will you escape its clutches?",
                    choices: [
                        { text: "Fight through the darkness", next: "fightDarkness" },
                        { text: "Embrace the darkness", next: "embraceDarkness" }
                    ]
                },
                fightDarkness: {
                    title: "Fighting Through the Darkness",
                    text: "You muster all your courage and strength to fight through the encroaching darkness, pushing forward with unwavering resolve. But as you near the end of the trail, a chilling realization dawns upon you. Will you make it out alive?",
                    choices: [
                        { text: "Escape to safety", next: "escapeTrail" },
                        { text: "Accept your fate", next: "acceptFate" }
                    ]
                },
                escapeTrail: {
                    title: "Escaping the Trail",
                    text: "With one final burst of energy, you break free from the forest's grasp and emerge into the light. Though shaken, you're alive and free from the horrors that lurk within the woods.",
                    choices: []
                },
                acceptFate: {
                    title: "Accepting Your Fate",
                    text: "As the darkness closes in around you, you come to terms with your fate, knowing that some battles cannot be won. In the end, all that remains is the silence of the woods.",
                    choices: []
                },
                retreatTrail: {
                    title: "Retreating from the Trail",
                    text: "Overwhelmed by the darkness that surrounds you, you retreat from the hidden trail, vowing never to return to these cursed woods. Though the mysteries remain unsolved, your life is worth more than any answers.",
                    choices: []
                },
                stayPut: {
                    title: "Staying Put",
                    text: "Fearful of the unknown dangers that lurk in the woods, you choose to stay put and wait for help. Though the wait feels endless, you hold onto hope that rescue will come.",
                    choices: []
                },
                returnCabin: {
                    title: "Returning to the Abandoned Cabin",
                    text: "Despite the cabin's eerie atmosphere, you decide to return in search of shelter and safety. But as you step inside, the door slams shut behind you, sealing your fate within its walls.",
                    choices: []
                }
            },
            moral: {
                kindness: {
                    title: "The Power of Kindness",
                    text: "In a world filled with darkness, a simple act of kindness can light up even the bleakest of days. Will you choose to spread kindness wherever you go?",
                    choices: [
                        { text: "Choose kindness", next: "kindnessPath" },
                        { text: "Turn a blind eye", next: "blindEyePath" }
                    ]
                },
                kindnessPath: {
                    title: "Walking the Path of Kindness",
                    text: "With compassion in your heart, you embark on a journey to make the world a better place, one act of kindness at a time. Though the path may be challenging, the light of kindness guides your way.",
                    choices: []
                },
                blindEyePath: {
                    title: "Turning a Blind Eye",
                    text: "In a world consumed by apathy, you choose to turn a blind eye to the suffering around you. But as you look away, you can't shake the feeling that there's more you could have done.",
                    choices: []
                }
            },
            scienceFiction: {
                spaceExploration: {
                    title: "The Final Frontier",
                    text: "The vast expanse of space beckons, promising adventure and discovery beyond imagination. Will you journey into the unknown depths of the cosmos?",
                    choices: [
                        { text: "Embark on a space exploration mission", next: "spaceMission" },
                        { text: "Stay grounded on Earth", next: "earthBound" }
                    ]
                },
                spaceMission: {
                    title: "A Voyage Across the Stars",
                    text: "You board a state-of-the-art spacecraft, ready to explore distant planets and uncover the mysteries of the universe. But as you journey deeper into space, you encounter challenges that test the limits of human ingenuity. Will you persevere?",
                    choices: [
                        { text: "Face the challenges head-on", next: "faceChallenges" },
                        { text: "Retreat to safety", next: "retreatSafety" }
                    ]
                },
                faceChallenges: {
                    title: "Facing the Challenges",
                    text: "With courage and determination, you confront the challenges of space exploration, pushing the boundaries of human achievement. Though the journey is perilous, the rewards are beyond measure.",
                    choices: []
                },
                earthBound: {
                    title: "Grounded on Earth",
                    text: "Opting to stay grounded on Earth, you watch as others venture into the cosmos, each journey a testament to the human spirit of exploration. Though you may never reach the stars, your feet remain firmly planted on familiar soil.",
                    choices: []
                }
            },
            humanQuality: {
                perseverance: {
                    title: "The Power of Perseverance",
                    text: "In the face of adversity, perseverance is the key to overcoming obstacles and achieving greatness. Will you persevere in the face of challenges?",
                    choices: [
                        { text: "Choose perseverance", next: "perseverancePath" },
                        { text: "Give up easily", next: "giveUpPath" }
                    ]
                },
                perseverancePath: {
                    title: "Walking the Path of Perseverance",
                    text: "With unwavering determination, you forge ahead despite the odds, refusing to let failure deter you from your goals. Though the journey may be long and arduou the rewards of perseverance are immeasurable.",
                    choices: []
                },
                giveUpPath: {
                    title: "Choosing to Give Up",
                    text: "Faced with challenges, you choose to throw in the towel and walk away, never realizing the potential of what could have been. Though the path of least resistance may seem easier, it's often the path of regret.",
                    choices: []
                }
            }
        };
        
        let currentScene = "";
        let characterName = "Unknown";
        let inventory = [];
        
        function displayCategories() {
            const categorySelect = document.getElementById('category');
            const categories = Object.keys(storyData);
            categorySelect.innerHTML = "";
            categories.forEach(category => {
                const option = document.createElement('option');
                option.value = category;
                option.textContent = category.charAt(0).toUpperCase() + category.slice(1);
                categorySelect.appendChild(option);
            });
        }
        
        function displayStories(category) {
            const storySelect = document.getElementById('story');
            const stories = Object.keys(storyData[category]);
            storySelect.innerHTML = "";
            stories.forEach(story => {
                const option = document.createElement('option');
                option.value = story;
                option.textContent = storyData[category][story].title;
                storySelect.appendChild(option);
            });
        }
        
        function customizeCharacter() {
            const charNameInput = document.getElementById('charName');
            const charImageInput = document.getElementById('charImage');
            characterName = charNameInput.value;
            const category = document.getElementById('category').value;
            const story = document.getElementById('story').value;
            currentScene = story;
            displayScene(currentScene, category);
        }
        
        function displayScene(scene, category) {
            const storyElement = document.querySelector('.story');
            const choicesElement = document.querySelector('.choices');
            const currentStory = storyData[category][scene];
            storyElement.innerHTML = `<h2>${currentStory.title}</h2><p>${currentStory.text}</p>`;
            choicesElement.innerHTML = "";
        
            // Update inventory display
            displayInventory(currentStory.items);
            
            currentStory.choices.forEach(choice => {
                const button = document.createElement('button');
                button.textContent = choice.text;
                button.addEventListener('click', () => {
                    currentScene = choice.next;
                    displayScene(currentScene, category);
                });
                choicesElement.appendChild(button);
            });
         }
          function displayInventory(items) {
                const inventoryElement = document.getElementById('inventory-list');
                inventoryElement.innerHTML = "<h3>Inventory:</h3>";
                if (items && items.length > 0) {
                    items.forEach(item => {
                        inventory.push(item);
                        const button = document.createElement('button');
                        button.textContent = item;
                        button.addEventListener('click', () => {
                            alert(`You have collected: ${item}`);
                        });
                        inventoryElement.appendChild(button);
                    });
                } else {
                    inventoryElement.innerHTML += "<p>No new items added.</p>";
                }
            }
            
        
        function toggleInventory() {
            const inventoryList = document.getElementById('inventory-list');
            if (inventoryList.style.display === 'none') {
                inventoryList.style.display = 'block';
            } else {
                inventoryList.style.display = 'none';
            }
        }
        
        // Initialize the story categories
        displayCategories();
        
        // Event listeners for category and story selection
        document.getElementById('category').addEventListener('change', (event) => {
            const selectedCategory = event.target.value;
            displayStories(selectedCategory);
        });
        
        document.getElementById('story').addEventListener('change', (event) => {
            const selectedStory = event.target.value;
            currentScene = selectedStory;
            const selectedCategory = document.getElementById('category').value;
            displayScene(currentScene, selectedCategory);
        });
        
        function playAudio() {
            const currentStory = storyData[document.getElementById('category').value][currentScene];
            const speech = new SpeechSynthesisUtterance(currentStory.text);
            window.speechSynthesis.speak(speech);
        }
        

    </script>
</body>
</html>
