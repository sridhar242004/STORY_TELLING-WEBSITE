<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus Narrative: Immersive Storytelling</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #6c5ce7;
            --secondary-color: #00cec9;
            --accent-color: #fdcb6e;
            --dark-color: #2d3436;
            --light-color: #dfe6e9;
            --gradient-start: #6c5ce7;
            --gradient-end: #00cec9;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
            color: var(--light-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            perspective: 1000px;
        }

        h1, h2, h3 {
            font-family: 'Orbitron', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        h1 {
            font-size: 4rem;
            text-align: center;
            grid-column: 1 / -1;
            background: linear-gradient(to right, var(--accent-color), var(--secondary-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 2s ease-in-out infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 5px var(--accent-color), 0 0 10px var(--secondary-color); }
            to { text-shadow: 0 0 10px var(--accent-color), 0 0 20px var(--secondary-color); }
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 1.5rem;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            border: 1px solid rgba(255, 255, 255, 0.18);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glass-panel:hover {
            transform: translateY(-5px) rotateX(5deg);
            box-shadow: 0 12px 48px 0 rgba(31, 38, 135, 0.5);
        }

        input, select, button {
            width: 100%;
            padding: 0.75rem;
            margin-bottom: 1rem;
            border: none;
            border-radius: 5px;
            background: rgba(255, 255, 255, 0.2);
            color: var(--light-color);
            font-family: 'Roboto', sans-serif;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            box-shadow: 0 0 0 2px var(--accent-color);
        }

        button {
            background: var(--primary-color);
            color: var(--light-color);
            font-weight: bold;
            cursor: pointer;
        }

        button:hover {
            background: var(--accent-color);
            transform: scale(1.05);
        }

        .story-container {
            height: 400px;
            overflow-y: auto;
            perspective: 1000px;
            transform-style: preserve-3d;
        }

        .story-container::-webkit-scrollbar {
            width: 10px;
        }

        .story-container::-webkit-scrollbar-thumb {
            background: var(--accent-color);
            border-radius: 10px;
        }

        .story {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .choices {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .choices button {
            flex: 1;
            min-width: 150px;
        }

        #inventory-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 1rem;
        }

        .kinetic-text {
            font-size: 2rem;
            font-weight: bold;
            text-transform: uppercase;
            animation: kinetic 5s ease-in-out infinite;
        }

        @keyframes kinetic {
            0%, 100% { transform: skew(0deg, 0deg); }
            25% { transform: skew(5deg, 5deg); }
            75% { transform: skew(-5deg, -5deg); }
        }

        .three-d-element {
            width: 100px;
            height: 100px;
            background: var(--accent-color);
            transform: rotateX(45deg) rotateY(45deg);
            transition: transform 0.5s ease;
            margin: 2rem auto;
        }

        .three-d-element:hover {
            transform: rotateX(60deg) rotateY(60deg);
        }

        .micro-interaction {
            transition: all 0.3s ease;
        }

        .micro-interaction:hover {
            transform: scale(1.1);
        }

        .edgeless-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 15px;
            margin-bottom: 1rem;
        }

        .retro-max {
            background: repeating-linear-gradient(
                45deg,
                var(--primary-color),
                var(--primary-color) 10px,
                var(--accent-color) 10px,
                var(--accent-color) 20px
            );
            padding: 1rem;
            font-family: 'Courier New', monospace;
            font-weight: bold;
            text-align: center;
            text-transform: uppercase;
            color: var(--dark-color);
            text-shadow: 2px 2px var(--light-color);
            margin-bottom: 1rem;
        }

        .large-type {
            font-size: 4rem;
            font-weight: bold;
            text-align: center;
            line-height: 1;
            margin: 2rem 0;
        }

        .layered-element {
            position: relative;
        }

        .layered-element::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: -10px;
            bottom: -10px;
            background: var(--secondary-color);
            z-index: -1;
            border-radius: 15px;
        }

        #voiceButton {
            background: var(--accent-color);
            color: var(--dark-color);
            padding: 1rem;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        .bento-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(3, 1fr);
            gap: 1rem;
            height: 400px;
            margin-bottom: 2rem;
        }

        .bento-item {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .bento-item:nth-child(1) {
            grid-column: 1 / 3;
            grid-row: 1 / 3;
        }

        .bento-item:nth-child(2) {
            grid-column: 3;
            grid-row: 1 / 4;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Nexus Narrative</h1>
        
        <div class="glass-panel layered-element">
            <h2>Create Your Character</h2>
            <input type="text" id="charName" placeholder="Enter your name" class="micro-interaction">
            <input type="file" id="charImage" accept="image/*" class="micro-interaction">
        </div>

        <div class="glass-panel">
            <h2>Select Your Adventure</h2>
            <select id="category" class="micro-interaction">
                <!-- Categories will be dynamically populated here -->
            </select>
        </div>

        <div class="glass-panel">
            <h2>Choose Your Story</h2>
            <select id="story" class="micro-interaction">
                <!-- Stories will be dynamically populated here -->
            </select>
        </div>

        <div class="glass-panel story-container">
            <div class="story">
                <!-- Story content will be dynamically updated here -->
            </div>
            <div class="choices">
                <!-- User choices will be displayed here -->
            </div>
        </div>
        
        <div class="glass-panel">
            <h3 class="kinetic-text">Inventory</h3>
            <ul id="inventory-list">
                <!-- Inventory items will be dynamically added here -->
            </ul>
        </div>
        
        <div class="three-d-element"></div>

        <img src="https://source.unsplash.com/random/800x400" alt="Adventure Scene" class="edgeless-image">

        <div class="retro-max">
            Epic Quest Awaits
        </div>

        <div class="large-type">
            Your Journey Begins
        </div>

        <div class="bento-grid">
            <div class="bento-item">Main Story</div>
            <div class="bento-item">Character Stats</div>
            <div class="bento-item">Achievements</div>
            <div class="bento-item">Map</div>
            <div class="bento-item">Quests</div>
        </div>

        <button onclick="startAdventure()" class="micro-interaction">Embark on Adventure</button>
        <button onclick="toggleAudio()" class="micro-interaction">Toggle Narration</button>
    </div>

    <button id="voiceButton" onclick="toggleVoiceControl()">ðŸŽ¤</button>

    <script>
        let currentScene = "";
        let characterName = "Adventurer";
        let inventory = [];
        let audioEnabled = false;
        let voiceControlEnabled = false;
        let synth = window.speechSynthesis;

        const storyData = {
            adventure: {
                start: {
                    title: "The Lost Treasure",
                    text: "You are a brave adventurer seeking the legendary Lost Treasure of Eldoria. Legends say it's hidden deep within the Forbidden Jungle...",
                    choices: [
                        { text: "Embark on your quest", next: "jungleEntrance" }
                    ],
                    items: ["ENTERENCE KEY"]
                },
                jungleEntrance: {
                    title: "Into the Forbidden Jungle",
                    text: "You stand at the entrance of the Forbidden Jungle, its dense foliage and eerie silence send shivers down your spine. Will you venture inside?",
                    choices: [
                        { text: "Enter the jungle", next: "darkPath" },
                        { text: "Turn back", next: "turnBack" }
                    ],
                    items: ["LAMP"]
                },
                darkPath: {
                    title: "The Dark Path",
                    text: "You choose the dark path, filled with danger and mystery. As you walk deeper, you hear strange noises and rustling in the bushes...",
                    choices: [
                        { text: "Investigate the noises", next: "hiddenTemple" },
                        { text: "Keep moving forward", next: "treacherousBridge" }
                    ],
                    items: ["SWORD"]
                },
                hiddenTemple: {
                    title: "The Hidden Temple",
                    text: "You stumble upon a hidden temple deep within the jungle. Inside, you find ancient relics and traps. What will you do?",
                    choices: [
                        { text: "Search for the treasure", next: "treasureChamber", item: "Temple Key" },
                        { text: "Leave the temple", next: "continueJourney" }
                    ],
                    items: ["MAP"]
                },
                treasureChamber: {
                    title: "The Treasure Chamber",
                    text: "You finally reach the treasure chamber! But it's guarded by a fearsome beast. Can you defeat it and claim the Lost Treasure?",
                    choices: [
                        { text: "Fight the beast", next: "victory" },
                        { text: "Negotiate with the beast", next: "negotiate" }
                    ],
                    items: ["THUNDER POWER"]
                },
                victory: {
                    title: "Victory!",
                    text: "You defeated the beast and claimed the Lost Treasure! You're hailed as a hero throughout the land.",
                    choices: [],
                    items: ["DIAMONDS"]
                },
                negotiate: {
                    title: "Negotiation",
                    text: "You successfully negotiate with the beast and it allows you to take the treasure. You emerge from the temple victorious.",
                    choices: [],
                    items: []
                },
                turnBack: {
                    title: "Turning Back",
                    text: "Fear overtakes you, and you decide to turn back from the Forbidden Jungle. The Lost Treasure remains hidden, its secrets untouched.",
                    choices: [],
                    items: []
                },
                treacherousBridge: {
                    title: "The Treacherous Bridge",
                    text: "You come across a rickety bridge spanning a chasm. It looks unstable, but it may be your only way forward. What will you do?",
                    choices: [
                        { text: "Cross the bridge", next: "bridgeCrossing" },
                        { text: "Find an alternate route", next: "alternateRoute" }
                    ],
                    items: []
                },
                bridgeCrossing: {
                    title: "Crossing the Bridge",
                    text: "With bated breath, you step onto the creaking bridge and begin your treacherous crossing. Each step feels like it could be your last, but you push forward. Will you make it to the other side?",
                    choices: [
                        { text: "Reach the other side", next: "reachOtherSide" },
                        { text: "The bridge collapses", next: "bridgeCollapse" }
                    ],
                    items: []
                },
                reachOtherSide: {
                    title: "Reaching the Other Side",
                    text: "After a nerve-wracking journey, you finally reach the other side of the chasm. The Forbidden Jungle awaits, but you've overcome one of its deadliest challenges.",
                    choices: [],
                    items: []
                },
                bridgeCollapse: {
                    title: "Bridge Collapse",
                    text: "Disaster strikes as the bridge gives way beneath you, sending you plummeting into the chasm below. Your adventure comes to a tragic end.",
                    choices: [],
                    items: []
                },
                alternateRoute: {
                    title: "Finding an Alternate Route",
                    text: "You decide to search for an alternate route around the chasm. It may take longer, but it's safer than risking the unstable bridge. Will you find a way?",
                    choices: [
                        { text: "Discover a hidden path", next: "hiddenPath", item: "Map" },
                        { text: "Return to the jungle entrance", next: "returnEntrance" }
                    ],
                    items: []
                },
                hiddenPath: {
                    title: "The Hidden Path",
                    text: "You stumble upon a hidden path that leads around the chasm, bypassing the treacherous bridge. Though it's longer, it's far safer. Your journey continues deeper into the Forbidden Jungle.",
                    choices: [],
                    items: []
                },
                returnEntrance: {
                    title: "Returning to the Jungle Entrance",
                    text: "You decide to retreat to the entrance of the Forbidden Jungle, unwilling to risk your life on the treacherous bridge. Your quest for the Lost Treasure must wait for another day.",
                    choices: [],
                    items: []
                },
            },
            mystery: {
                mansion: {
                    title: "The Enigmatic Mansion",
                    text: "You receive an intriguing invitation to explore an old mansion rumored to hold a hidden treasure. As you approach the mansion's grand entrance, you sense a mysterious energy emanating from within. Will you enter?",
                    choices: [
                        { text: "Enter the mansion", next: "foyer" },
                        { text: "Leave and forget about the invitation", next: "ignore" }
                    ]
                },
                foyer: {
                    title: "The Foyer",
                    text: "You step into the grand foyer of the mansion, adorned with antique furnishings and dimly lit chandeliers. A sense of foreboding fills the air. What will you do?",
                    choices: [
                        { text: "Explore the ground floor", next: "groundFloor" },
                        { text: "Ascend the staircase", next: "upperFloor" }
                    ]
                },
                groundFloor: {
                    title: "Exploring the Ground Floor",
                    text: "You wander through the ground floor rooms, each holding its own secrets and mysteries. As you delve deeper, you stumble upon a hidden passage leading to the mansion's basement. Will you investigate?",
                    choices: [
                        { text: "Explore the basement", next: "basement" },
                        { text: "Return to the foyer", next: "foyer" }
                    ]
                },
                basement: {
                    title: "The Basement",
                    text: "In the dimly lit basement, you discover an ancient crypt filled with forgotten relics and cryptic symbols. Suddenly, a hidden door creaks open, revealing a hidden chamber. What lies beyond?",
                    choices: [
                        { text: "Enter the hidden chamber", next: "hiddenChamber" },
                        { text: "Leave the basement", next: "groundFloor" }
                    ]
                },
                hiddenChamber: {
                    title: "The Hidden Chamber",
                    text: "You step into the hidden chamber, filled with treasures beyond imagination. But with great treasure comes great peril. Will you risk it all for riches?",
                    choices: [
                        { text: "Claim the treasure", next: "claimTreasure" },
                        { text: "Leave the treasures untouched", next: "leaveTreasure" }
                    ]
                },
                claimTreasure: {
                    title: "Claiming the Treasure",
                    text: "You seize the treasures with greed in your eyes, unaware of the ancient curse that befalls those who dare to take what is not theirs. As you reach for the riches, darkness envelops you.",
                    choices: []
                },
                leaveTreasure: {
                    title: "Leaving the Treasures Untouched",
                    text: "Resisting the allure of the treasures, you turn your back on the riches and leave the hidden chamber behind. Though the temptation lingers, you emerge unscathed, your integrity intact.",
                    choices: []
                },
                upperFloor: {
                    title: "Ascending the Staircase",
                    text: "You climb the grand staircase to the upper floor, where the air grows colder and the shadows deeper. A sense of unease washes over you as you explore the upper rooms. Will you continue?",
                    choices: [
                        { text: "Explore further", next: "exploreFurther" },
                        { text: "Descend back to the foyer", next: "foyer" }
                    ]
                },
                exploreFurther: {
                    title: "Exploring Further",
                    text: "Driven by curiosity, you press on through the upper floor rooms, uncovering secrets long buried within the mansion's walls. But with each discovery, the mysteries deepen. Will you uncover the truth?",
                    choices: [
                        { text: "Keep searching", next: "keepSearching" },
                        { text: "Retreat to safety", next: "retreatSafety" }
                    ]
                },
                keepSearching: {
                    title: "Continuing the Search",
                    text: "Determined to unravel the mansion's secrets, you press on through the darkness, unearthing clues that hint at a deeper mystery. But with each step forward, the danger grows. Will you persevere?",
                    choices: [
                        { text: "Press on despite the danger", next: "pressOn" },
                        { text: "Return to the foyer", next: "returnFoyer" }
                    ]
                },
                pressOn: {
                    title: "Pressing Onward",
                    text: "With courage in your heart, you press onward through the darkness, ready to confront whatever horrors lie in wait. But as you delve deeper, you realize that some secrets are best left undisturbed.",
                    choices: []
                },
                returnFoyer: {
                    title: "Returning to the Foyer",
                    text: "Feeling overwhelmed by the mansion's mysteries, you retreat to the safety of the foyer, vowing to leave the mansion behind. Though the truth remains elusive, you know it's safer not to delve too deep.",
                    choices: []
                },
                retreatSafety: {
                    title: "Retreating to Safety",
                    text: "Realizing the danger that lurks within the mansion's walls, you retreat to safety, vowing never to return. Though the mysteries remain unsolved, your life is worth more than any secret.",
                    choices: []
                },
                ignore: {
                    title: "Ignoring the Invitation",
                    text: "Fearful of the unknown, you choose to ignore the invitation and walk away from the mansion. Though curiosity tugs at your heart, you know it's safer not to meddle with forces beyond your comprehension.",
                    choices: []
                }
            },
            horror: {
                cabin: {
                    title: "The Abandoned Cabin",
                    text: "Lost in the woods, you stumble upon an old, decrepit cabin. It looks abandoned, but something feels off. Will you investigate?",
                    choices: [
                        { text: "Enter the cabin", next: "exploreCabin" },
                        { text: "Stay away and continue through the woods", next: "continueWoods" }
                    ],
                    items: ["COLLECT THE KEY"]
                },
                exploreCabin: {
                    title: "Exploring the Cabin",
                    text: "Inside the cabin, you find eerie symbols etched into the walls and strange artifacts scattered about. As you delve deeper, you hear a chilling sound coming from the basement. What will you do?",
                    choices: [
                        { text: "Investigate the basement", next: "basement" },
                        { text: "Leave the cabin immediately", next: "leaveCabin" }
                    ],
                    items: ["COLLECT THE TORCH LIGHT"]
                },
                basement: {
                    title: "The Haunted Basement",
                    text: "Descending into the basement, you discover a hidden chamber filled with the remnants of dark rituals. Suddenly, the door slams shut behind you, trapping you in darkness. Will you try to escape?",
                    choices: [
                        { text: "Search for an exit", next: "findExit" },
                        { text: "Confront whatever lurks in the darkness", next: "confrontDarkness" }
                    ]
                },
                findExit: {
                    title: "Finding an Exit",
                    text: "You frantically search for an exit, feeling a growing sense of dread with each passing moment. Just when all hope seems lost, you spot a faint glimmer of light. Will you make it out alive?",
                    choices: [
                        { text: "Escape to safety", next: "escape" },
                        { text: "Embrace the darkness", next: "embrace" }
                    ]
                },
                confrontDarkness: {
                    title: "Confronting the Darkness",
                    text: "You steel yourself to confront whatever lurks in the darkness, ready to face your fears head-on. But as you move forward, the darkness consumes you, leaving behind only echoes of your screams.",
                    choices: []
                },
                leaveCabin: {
                    title: "Leaving the Cabin",
                    text: "Feeling unnerved by the cabin's sinister aura, you decide to leave immediately. Though the mysteries of the cabin remain unsolved, you know it's safer to stay away.",
                    choices: []
                },
                continueWoods: {
                    title: "Continuing Through the Woods",
                    text: "Ignoring the cabin, you press on through the dark, foreboding woods. The sound of rustling leaves and distant whispers fills you with unease. Will you find your way out?",
                    choices: [
                        { text: "Keep moving forward", next: "forward" },
                        { text: "Turn back and search for another path", next: "searchPath" }
                    ]
                },
                forward: {
                    title: "Pressing Forward",
                    text: "You forge ahead, determined to find your way out of the woods. But with each step, the forest seems to grow denser and more twisted, as if it's leading you deeper into its grasp. Will you continue?",
                    choices: [
                        { text: "Press on despite the danger", next: "pressOn" },
                        { text: "Turn back and retreat", next: "retreat" }
                    ]
                },
                searchPath: {
                    title: "Searching for Another Path",
                    text: "You backtrack, searching for another path through the woods. The trees seem to shift and move, disorienting you at every turn. Will you find your way out?",
                    choices: [
                        { text: "Find a new path", next: "newPath" },
                        { text: "Return to the abandoned cabin", next: "returnCabin" }
                    ]
                },
                newPath: {
                    title: "Finding a New Path",
                    text: "After much searching, you stumble upon a hidden trail leading deeper into the woods. It feels like the right path, but who knows what dangers lie ahead? Will you risk it?",
                    choices: [
                        { text: "Follow the trail", next: "followTrail" },
                        { text: "Stay put and wait for help", next: "stayPut" }
                    ]
                },
                followTrail: {
                    title: "Following the Trail",
                    text: "You follow the hidden trail, hoping it will lead you out of the woods. But as you venture deeper, the shadows grow darker and the air colder. Will you make it out alive?",
                    choices: [
                        { text: "Press on despite the danger", next: "pressOnTrail" },
                        { text: "Turn back and retreat", next: "retreatTrail" }
                    ]
                },
                pressOnTrail: {
                    title: "Pressing Onward",
                    text: "With determination in your heart, you press onward along the trail, ready to face whatever horrors await. But with each step, the forest seems to tighten its grip. Will you escape its clutches?",
                    choices: [
                        { text: "Fight through the darkness", next: "fightDarkness" },
                        { text: "Embrace the darkness", next: "embraceDarkness" }
                    ]
                },
                fightDarkness: {
                    title: "Fighting Through the Darkness",
                    text: "You muster all your courage and strength to fight through the encroaching darkness, pushing forward with unwavering resolve. But as you near the end of the trail, a chilling realization dawns upon you. Will you make it out alive?",
                    choices: [
                        { text: "Escape to safety", next: "escapeTrail" },
                        { text: "Accept your fate", next: "acceptFate" }
                    ]
                },
                escapeTrail: {
                    title: "Escaping the Trail",
                    text: "With one final burst of energy, you break free from the forest's grasp and emerge into the light. Though shaken, you're alive and free from the horrors that lurk within the woods.",
                    choices: []
                },
                acceptFate: {
                    title: "Accepting Your Fate",
                    text: "As the darkness closes in around you, you come to terms with your fate, knowing that some battles cannot be won. In the end, all that remains is the silence of the woods.",
                    choices: []
                },
                retreatTrail: {
                    title: "Retreating from the Trail",
                    text: "Overwhelmed by the darkness that surrounds you, you retreat from the hidden trail, vowing never to return to these cursed woods. Though the mysteries remain unsolved, your life is worth more than any answers.",
                    choices: []
                },
                stayPut: {
                    title: "Staying Put",
                    text: "Fearful of the unknown dangers that lurk in the woods, you choose to stay put and wait for help. Though the wait feels endless, you hold onto hope that rescue will come.",
                    choices: []
                },
                returnCabin: {
                    title: "Returning to the Abandoned Cabin",
                    text: "Despite the cabin's eerie atmosphere, you decide to return in search of shelter and safety. But as you step inside, the door slams shut behind you, sealing your fate within its walls.",
                    choices: []
                }
            },
            moral: {
                kindness: {
                    title: "The Power of Kindness",
                    text: "In a world filled with darkness, a simple act of kindness can light up even the bleakest of days. Will you choose to spread kindness wherever you go?",
                    choices: [
                        { text: "Choose kindness", next: "kindnessPath" },
                        { text: "Turn a blind eye", next: "blindEyePath" }
                    ]
                },
                kindnessPath: {
                    title: "Walking the Path of Kindness",
                    text: "With compassion in your heart, you embark on a journey to make the world a better place, one act of kindness at a time. Though the path may be challenging, the light of kindness guides your way.",
                    choices: []
                },
                blindEyePath: {
                    title: "Turning a Blind Eye",
                    text: "In a world consumed by apathy, you choose to turn a blind eye to the suffering around you. But as you look away, you can't shake the feeling that there's more you could have done.",
                    choices: []
                }
            },
            scienceFiction: {
                spaceExploration: {
                    title: "The Final Frontier",
                    text: "The vast expanse of space beckons, promising adventure and discovery beyond imagination. Will you journey into the unknown depths of the cosmos?",
                    choices: [
                        { text: "Embark on a space exploration mission", next: "spaceMission" },
                        { text: "Stay grounded on Earth", next: "earthBound" }
                    ]
                },
                spaceMission: {
                    title: "A Voyage Across the Stars",
                    text: "You board a state-of-the-art spacecraft, ready to explore distant planets and uncover the mysteries of the universe. But as you journey deeper into space, you encounter challenges that test the limits of human ingenuity. Will you persevere?",
                    choices: [
                        { text: "Face the challenges head-on", next: "faceChallenges" },
                        { text: "Retreat to safety", next: "retreatSafety" }
                    ]
                },
                faceChallenges: {
                    title: "Facing the Challenges",
                    text: "With courage and determination, you confront the challenges of space exploration, pushing the boundaries of human achievement. Though the journey is perilous, the rewards are beyond measure.",
                    choices: []
                },
                earthBound: {
                    title: "Grounded on Earth",
                    text: "Opting to stay grounded on Earth, you watch as others venture into the cosmos, each journey a testament to the human spirit of exploration. Though you may never reach the stars, your feet remain firmly planted on familiar soil.",
                    choices: []
                }
            },
            humanQuality: {
                perseverance: {
                    title: "The Power of Perseverance",
                    text: "In the face of adversity, perseverance is the key to overcoming obstacles and achieving greatness. Will you persevere in the face of challenges?",
                    choices: [
                        { text: "Choose perseverance", next: "perseverancePath" },
                        { text: "Give up easily", next: "giveUpPath" }
                    ]
                },
                perseverancePath: {
                    title: "Walking the Path of Perseverance",
                    text: "With unwavering determination, you forge ahead despite the odds, refusing to let failure deter you from your goals. Though the journey may be long and arduou the rewards of perseverance are immeasurable.",
                    choices: []
                },
                giveUpPath: {
                    title: "Choosing to Give Up",
                    text: "Faced with challenges, you choose to throw in the towel and walk away, never realizing the potential of what could have been. Though the path of least resistance may seem easier, it's often the path of regret.",
                    choices: []
                }
            }
        };

        function displayCategories() {
            const categorySelect = document.getElementById('category');
            const categories = Object.keys(storyData);
            categorySelect.innerHTML = categories.map(category => 
                `<option value="${category}">${category.charAt(0).toUpperCase() + category.slice(1)}</option>`
            ).join('');
            displayStories(categories[0]);
        }

        function displayStories(category) {
            const storySelect = document.getElementById('story');
            const stories = Object.keys(storyData[category]);
            storySelect.innerHTML = stories.map(story => 
                `<option value="${story}">${storyData[category][story].title}</option>`
            ).join('');
        }

        function startAdventure() {
            characterName = document.getElementById('charName').value || "Adventurer";
            const category = document.getElementById('category').value;
            const story = document.getElementById('story').value;
            currentScene = story;
            displayScene(currentScene, category);
            document.querySelector('.story-container').scrollIntoView({ behavior: 'smooth' });
        }

        function displayScene(scene, category) {
            const storyElement = document.querySelector('.story');
            const choicesElement = document.querySelector('.choices');
            const currentStory = storyData[category][scene];

            storyElement.innerHTML = `<h2>${currentStory.title}</h2><p>${currentStory.text.replace(/Adventurer/g, characterName)}</p>`;
            choicesElement.innerHTML = currentStory.choices.map(choice => 
                `<button onclick="makeChoice('${choice.next}', '${category}')">${choice.text}</button>`
            ).join('');

            updateInventory(currentStory.items);
            if (audioEnabled) narrate(currentStory.text);
        }

        function makeChoice(nextScene, category) {
            currentScene = nextScene;
            displayScene(currentScene, category);
        }

        function updateInventory(newItems) {
            if (newItems) {
                inventory = [...new Set([...inventory, ...newItems])];
            }
            const inventoryList = document.getElementById('inventory-list');
            inventoryList.innerHTML = inventory.map(item => `<li>${item}</li>`).join('');
        }

        function toggleAudio() {
            audioEnabled = !audioEnabled;
            if (audioEnabled) {
                narrate("Audio narration enabled");
            } else {
                synth.cancel();
            }
        }

        function narrate(text) {
            const utterance = new SpeechSynthesisUtterance(text);
            synth.speak(utterance);
        }

        function toggleVoiceControl() {
            voiceControlEnabled = !voiceControlEnabled;
            if (voiceControlEnabled) {
                startVoiceRecognition();
            } else {
                stopVoiceRecognition();
            }
        }

        function startVoiceRecognition() {
            // Implement voice recognition logic here
            console.log("Voice control activated");
        }

        function stopVoiceRecognition() {
            // Implement logic to stop voice recognition
            console.log("Voice control deactivated");
        }

        // Initialize the story
        displayCategories();

        // Event listeners
        document.getElementById('category').addEventListener('change', (event) => {
            displayStories(event.target.value);
        });

        // AI-driven personalization (simulated)
        function personalizeExperience() {
            console.log("Personalizing experience for " + characterName);
            // Implement AI-driven personalization logic here
        }

        // Call personalization when starting the adventure
        document.querySelector('button[onclick="startAdventure()"]').addEventListener('click', personalizeExperience);
    </script>
    </body>
    </html>
